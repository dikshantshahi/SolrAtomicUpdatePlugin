<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Solr Atomic Update / Query based Update by dikchantsahi</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Solr Atomic Update / Query based Update</h1>
          <h2>Solr 4.0 plugin for atomic and query based update of lucene document more intuitively </h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/dikchantsahi/SolrAtomicUpdatePlugin/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/dikchantsahi/SolrAtomicUpdatePlugin/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/dikchantsahi/SolrAtomicUpdatePlugin" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>SolrAtomicUpdatePlugin</h1>

<p>Solr 4.0 Plugin which allows atomic update of lucene document more intuitively. The plugin supports update on the basis of Solr query. Update of multiValued field is also supported.</p>

<p>Internally Lucene doesn't allows you to update a document. The concept is simple delete and add.</p>

<p>This plugin allows you to update a document. It internally does a query, fetch, delete and add, thus releaving the client application from doing the same.
Another important feature of the plugin is that it allows you to perform SQL like update. It you are DB user, you will find this plugin more intuitive.
The user can specify solr query which uniquely identifies a document to be updated.</p>

<h2>Installation Steps:</h2>

<ol>
<li>Download the plugin file from dist/solr-atomic-update-plugin1.0.jar and place it in the SOLR_HOME/lib directory.</li>
<li>Add the following handler in solrconfig.xml
sql-like-processor</li>
<li>Add the following processor chain in solrconfig.xml
</li>
<li>Ensure that both the tags are added inside config tag.</li>
</ol><h2>Usage:</h2>

<p>Fields in document can be updated querying Solr just the way we query database. Here are different provisions to do that.</p>

<p>XML format to update a document:
standard solr queryvalue1value2
    ...
    
    ...
  </p>

<p>Also, you can update the document as follows:
value1value2
    ...
    
    ...
  </p>

<p>If you know the uniqueId for the document, you can update document as follows:
valuevalue1value2
    ...
    
    ...
  </p>

<h2>Example:</h2>

<p>Update the employee skills as follows:
$ curl http://localhost:8983/solr/sql-like-update -H 'Content-type:application/xml' -d '
empId:12345SSESolrLucene
    ...
  '</p>

<h2>Limitations:</h2>

<ol>
<li>All the fields should be stored.</li>
<li>Not tested for documents with index time boosts. Behavior unknown.</li>
<li>Each query should return only one document.</li>
<li>Has not been designed to support inc and adding values to a field, as Solr out of the box supports it. Please refer to Solr Wiki or by blog on out of the box feature <a href="http://dsahi.wordpress.com/2012/12/18/solr-atomic-update/">http://dsahi.wordpress.com/2012/12/18/solr-atomic-update/</a>.</li>
</ol>
        </section>

        <footer>
          Solr Atomic Update / Query based Update is maintained by <a href="https://github.com/dikchantsahi">dikchantsahi</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>