{"body":"SolrAtomicUpdatePlugin\r\n======================\r\n\r\nSolr 4.0 Plugin which allows atomic update of lucene document more intuitively. The plugin supports update on the basis of Solr query. Update of multiValued field is also supported.\r\n\r\nInternally Lucene doesn't allows you to update a document. The concept is simple delete and add.\r\n\r\nThis plugin allows you to update a document. It internally does a query, fetch, delete and add, thus releaving the client application from doing the same.\r\nAnother important feature of the plugin is that it allows you to perform SQL like update. It you are DB user, you will find this plugin more intuitive.\r\nThe user can specify solr query which uniquely identifies a document to be updated.\r\n\r\n\r\n\r\nInstallation Steps:\r\n-------------------\r\n1. Download the plugin file from dist/solr-atomic-update-plugin1.0.jar and place it in the SOLR_HOME/lib directory.\r\n2. Add the following handler in solrconfig.xml\r\n    <requestHandler name=\"/sql-like-update\" class=\"com.idivine.solr.handler.SqlLikeUpdateRequestHandler\">\r\n     <lst name=\"defaults\">\r\n       <str name=\"update.chain\">sql-like-processor</str>\r\n     </lst>\r\n    </requestHandler>\r\n3. Add the following processor chain in solrconfig.xml\r\n   <updateRequestProcessorChain name=\"sql-like-processor\">\r\n      <processor class=\"com.idivine.solr.processor.SqlLikeUpdateProcessorFactory\" />\r\n      <processor class=\"solr.LogUpdateProcessorFactory\" />\r\n      <processor class=\"solr.RunUpdateProcessorFactory\" />\r\n    </updateRequestProcessorChain>\r\n4. Ensure that both the tags are added inside config tag.\r\n\r\n\r\nUsage:\r\n-----\r\nFields in document can be updated querying Solr just the way we query database. Here are different provisions to do that.\r\n\r\nXML format to update a document:\r\n<update>\r\n  <doc>\r\n\t\t<query>standard solr query</query>\r\n\t\t<field name=\"field1\">value1</field>\r\n  \t<field name=\"field2\">value2</field>\r\n    ...\r\n\t</doc>\r\n  <doc>\r\n    ...\r\n  </doc>\r\n</update>\r\n\r\nAlso, you can update the document as follows:\r\n<update>\r\n  <doc query=\"standard solr query\">\r\n\t\t<field name=\"field1\">value1</field>\r\n\t\t<field name=\"field2\">value2</field>\r\n    ...\r\n\t</doc>\r\n  <doc>\r\n    ...\r\n  </doc>\r\n</update>\r\n\r\nIf you know the uniqueId for the document, you can update document as follows:\r\n<update>\r\n  <doc>\r\n    <query uniqueKey=\"true\">value</query>\r\n  \t<field name=\"field1\">value1</field>\r\n  \t<field name=\"field2\">value2</field>\r\n    ...\r\n\t</doc>\r\n  <doc>\r\n    ...\r\n  </doc>\r\n</update>\r\n\r\nExample:\r\n-------\r\nUpdate the employee skills as follows:\r\n$ curl http://localhost:8983/solr/sql-like-update -H 'Content-type:application/xml' -d '\r\n<update>\r\n  <doc>\r\n  \t<query>empId:12345</query>\r\n\t\t<field name=\"designation\">SSE</field>\r\n  \t<field name=\"skills\">Solr</field>\r\n    <field name=\"skills\">Lucene</field>\r\n\t</doc>\r\n  <doc>\r\n    ...\r\n  </doc>\r\n</update>'\r\n\r\nLimitations:\r\n-----------\r\n1. All the fields should be stored.\r\n2. Not tested for documents with index time boosts. Behavior unknown.\r\n3. Each query should return only one document.\r\n4. Has not been designed to support inc and adding values to a field, as Solr out of the box supports it. Please refer to Solr Wiki or by blog on out of the box feature http://dsahi.wordpress.com/2012/12/18/solr-atomic-update/.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration.","name":"Solr Atomic Update / Query based Update","tagline":"Solr 4.0 plugin for atomic and query based update of lucene document more intuitively "}